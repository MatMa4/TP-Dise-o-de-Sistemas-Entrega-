(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36224,e=>{"use strict";var o=e.i(43476),i=e.i(71645);let a=({label:e,name:i,value:a,onChange:n,error:s,type:c="text",isRequired:r=!1})=>(0,o.jsxs)("div",{className:"box1_simplebox",children:[(0,o.jsxs)("label",{htmlFor:i,children:[e," ",r&&(0,o.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,o.jsx)("input",{id:i,className:"input_box",type:c,name:i,value:a,onChange:n}),s&&(0,o.jsx)("p",{className:"error",children:s})]}),n=({tipoDocumento:e,numeroDocumento:i,onChange:a,error:n,highlight:s})=>(0,o.jsxs)("div",{className:"box1 boxDocumento",children:[(0,o.jsxs)("label",{children:["Documento ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,o.jsxs)("div",{className:"documento_inputs",children:[(0,o.jsxs)("select",{className:"input_box",name:"tipoDocumento",value:e,onChange:a,style:s?{borderColor:"red",borderWidth:"3px"}:{},children:[(0,o.jsx)("option",{value:"DNI",children:"DNI"}),(0,o.jsx)("option",{value:"LE",children:"LE"}),(0,o.jsx)("option",{value:"LC",children:"LC"}),(0,o.jsx)("option",{value:"pasaporte",children:"Pasaporte"}),(0,o.jsx)("option",{value:"Otro",children:"Otro"})]}),(0,o.jsx)("input",{className:"input_box_documento",type:"text",name:"numeroDocumento",value:i,onChange:a,style:s?{borderColor:"red",borderWidth:"3px"}:{}})]}),n&&(0,o.jsx)("p",{className:"error",children:n})]}),s=({direccion:e,onChange:i,errors:n})=>(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsxs)("div",{className:"box1",children:[(0,o.jsx)(a,{label:"Calle",name:"direccionHuesped.calle",value:e.calle,onChange:i,error:n["direccionHuesped.calle"],isRequired:!0}),(0,o.jsx)(a,{label:"Codigo Postal",name:"direccionHuesped.codigo",value:e.codigo,onChange:i,error:n["direccionHuesped.codigo"]})]}),(0,o.jsxs)("div",{className:"box1",children:[(0,o.jsx)(a,{label:"Número",name:"direccionHuesped.numero",value:e.numero,onChange:i,error:n["direccionHuesped.numero"],isRequired:!0}),(0,o.jsx)(a,{label:"Localidad",name:"direccionHuesped.localidad",value:e.localidad,onChange:i,error:n["direccionHuesped.localidad"],isRequired:!0})]}),(0,o.jsxs)("div",{className:"box1",children:[(0,o.jsx)(a,{label:"Piso",name:"direccionHuesped.piso",value:e.piso,onChange:i,error:n["direccionHuesped.piso"],isRequired:!0}),(0,o.jsx)(a,{label:"Provincia",name:"direccionHuesped.provincia",value:e.provincia,onChange:i,error:n["direccionHuesped.provincia"],isRequired:!0})]}),(0,o.jsxs)("div",{className:"box1",children:[(0,o.jsx)(a,{label:"Departamento",name:"direccionHuesped.departamento",value:e.departamento,onChange:i,error:n["direccionHuesped.departamento"],isRequired:!0}),(0,o.jsx)(a,{label:"País",name:"direccionHuesped.pais",value:e.pais,onChange:i,error:n["direccionHuesped.pais"],isRequired:!0})]})]})}),c=({show:e,title:i,message:a,icon:n,onClose:s,onConfirm:c,closeText:r,confirmText:l,confirmClass:t="btn-accept"})=>e?(0,o.jsx)("div",{className:"modal-overlay",children:(0,o.jsxs)("div",{className:"modal",children:[(0,o.jsx)("div",{className:"modal-icon",children:n}),(0,o.jsx)("h2",{children:i}),(0,o.jsx)("p",{children:a}),(0,o.jsxs)("div",{className:"modal-buttons",children:[(0,o.jsx)("button",{className:"btn-cancel",onClick:s,children:r}),(0,o.jsx)("button",{className:t,onClick:c,children:l})]})]})}):null,r=({show:e,message:i,onClose:a,onConfirm:n})=>e?(0,o.jsx)("div",{className:"modal-overlay",children:(0,o.jsxs)("div",{className:"modal",children:[(0,o.jsx)("div",{className:"modal-icon",children:"✅"}),(0,o.jsx)("h2",{children:"Éxito al cargar"}),(0,o.jsx)("p",{children:i}),(0,o.jsxs)("div",{className:"modal-buttons",style:{justifyContent:"center",gap:"20px"},children:[(0,o.jsx)("button",{className:"btn-cancel",onClick:a,children:"NO"}),(0,o.jsx)("button",{className:"btn-accept",onClick:n,children:"SI"})]})]})}):null,l={numeroDocumento:"",tipoDocumento:"DNI",apellido:"",nombre:"",fechaNacimiento:"",telefono:"",email:"",ocupacion:"",nacionalidad:"",cuit:"",posicionIVA:"",alojado:!1,direccionHuesped:{calle:"",numero:"",departamento:"",piso:"",codigo:"",localidad:"",provincia:"",pais:""}};function t(){let[e,t]=(0,i.useState)(l),[d,p]=(0,i.useState)({}),[m,u]=(0,i.useState)(!1),[h,x]=(0,i.useState)(""),[b,C]=(0,i.useState)(null),[j,N]=(0,i.useState)(!1),[g,v]=(0,i.useState)(""),[H,f]=(0,i.useState)(!1),[D,S]=(0,i.useState)(!1),[I,A]=(0,i.useState)(!1),y=o=>{let{name:i,value:a,type:n}=o.target,s=o.target.checked;if(i.startsWith("direccionHuesped.")){let e=i.split(".")[1];t(o=>({...o,direccionHuesped:{...o.direccionHuesped,[e]:a}})),p(e=>({...e,[i]:""}))}else t({...e,[i]:"checkbox"===n?s:a}),p(e=>({...e,[i]:""})),("numeroDocumento"===i||"tipoDocumento"===i)&&S(!1)},R=async o=>{o.preventDefault();let i={};if(e.nombre.trim()?e.nombre.trim().length<2?i.nombre="Debe tener al menos 2 caracteres":/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/.test(e.nombre)||(i.nombre="Solo se permiten letras"):i.nombre="Campo obligatorio",e.apellido.trim()?/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/.test(e.apellido)||(i.apellido="Solo se permiten letras"):i.apellido="Campo obligatorio",e.fechaNacimiento||(i.fechaNacimiento="Campo obligatorio"),e.telefono.trim()?/^\d+$/.test(e.telefono)||(i.telefono="Solo se permiten números"):i.telefono="Campo obligatorio",e.ocupacion.trim()?/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/.test(e.ocupacion)||(i.ocupacion="Solo se permiten letras"):i.ocupacion="Campo obligatorio",e.posicionIVA.trim()&&!["RESPONSABLE INSCRIPTO","MONOTRIBUTISTA","EXENTO","CONSUMIDOR FINAL"].includes(e.posicionIVA.toUpperCase())&&(i.posicionIVA="Debe ser una de: RESPONSABLE INSCRIPTO, MONOTRIBUTISTA, EXENTO o CONSUMIDOR FINAL"),e.nacionalidad.trim()?/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/.test(e.nacionalidad)||(i.nacionalidad="Solo se permiten letras"):i.nacionalidad="Campo obligatorio",e.numeroDocumento.trim())switch(e.tipoDocumento){case"DNI":/^\d+$/.test(e.numeroDocumento)||(i.numeroDocumento="El DNI solo debe contener números");break;case"LC":/^[Ff]\d+$/.test(e.numeroDocumento)||(i.numeroDocumento="Debe comenzar con F seguida de números");break;case"LE":/^[Mm]\d+$/.test(e.numeroDocumento)||(i.numeroDocumento="Debe comenzar con M seguida de números");break;case"pasaporte":/^[A-Za-z0-9]+$/.test(e.numeroDocumento)||(i.numeroDocumento="El pasaporte solo puede contener letras y números");break;default:e.numeroDocumento.length<3&&(i.numeroDocumento="Documento inválido")}else i.numeroDocumento="Campo obligatorio";if(e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(i.email="Formato de email inválido"),e.cuit&&!/^\d{11}$/.test(e.cuit)&&(i.cuit="El CUIT debe tener 11 dígitos numéricos"),e.direccionHuesped.calle.trim()||(i["direccionHuesped.calle"]="Campo obligatorio"),e.direccionHuesped.numero.trim()?/^\d+$/.test(e.direccionHuesped.numero)||(i["direccionHuesped.numero"]="Solo se permiten números"):i["direccionHuesped.numero"]="Campo obligatorio",e.direccionHuesped.piso.trim()?/^\d+$/.test(e.direccionHuesped.piso)||(i["direccionHuesped.piso"]="Solo se permiten números"):i["direccionHuesped.piso"]="Campo obligatorio",e.direccionHuesped.localidad.trim()?/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/.test(e.direccionHuesped.localidad)||(i["direccionHuesped.localidad"]="Solo se permiten letras"):i["direccionHuesped.localidad"]="Campo obligatorio",e.direccionHuesped.provincia.trim()?/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/.test(e.direccionHuesped.provincia)||(i["direccionHuesped.provincia"]="Solo se permiten letras"):i["direccionHuesped.provincia"]="Campo obligatorio",e.direccionHuesped.departamento.trim()?/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/.test(e.direccionHuesped.departamento)||(i["direccionHuesped.departamento"]="Solo se permiten letras"):i["direccionHuesped.departamento"]="Campo obligatorio",e.direccionHuesped.pais.trim()?/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/.test(e.direccionHuesped.pais)||(i["direccionHuesped.pais"]="Solo se permiten letras"):i["direccionHuesped.pais"]="Campo obligatorio",e.direccionHuesped.codigo&&!/^\d+$/.test(e.direccionHuesped.codigo)&&(i["direccionHuesped.codigo"]="Solo se permiten números"),p(i),0===Object.keys(i).length){let o={...e,numeroDocumento:e.numeroDocumento?e.numeroDocumento.toUpperCase():e.numeroDocumento,tipoDocumento:e.tipoDocumento?e.tipoDocumento.toUpperCase():e.tipoDocumento,apellido:e.apellido?e.apellido.toUpperCase():e.apellido,nombre:e.nombre?e.nombre.toUpperCase():e.nombre,telefono:e.telefono?e.telefono.toUpperCase():e.telefono,email:e.email?e.email.toUpperCase():e.email,ocupacion:e.ocupacion?e.ocupacion.toUpperCase():e.ocupacion,nacionalidad:e.nacionalidad?e.nacionalidad.toUpperCase():e.nacionalidad,cuit:e.cuit,posicionIVA:e.posicionIVA.trim()?e.posicionIVA.toUpperCase():"CONSUMIDOR FINAL",fechaNacimiento:e.fechaNacimiento,alojado:e.alojado,direccionHuesped:{calle:e.direccionHuesped.calle?e.direccionHuesped.calle.toUpperCase():e.direccionHuesped.calle,numero:e.direccionHuesped.numero,piso:e.direccionHuesped.piso,codigo:e.direccionHuesped.codigo,departamento:e.direccionHuesped.departamento?e.direccionHuesped.departamento.toUpperCase():e.direccionHuesped.departamento,localidad:e.direccionHuesped.localidad?e.direccionHuesped.localidad.toUpperCase():e.direccionHuesped.localidad,provincia:e.direccionHuesped.provincia?e.direccionHuesped.provincia.toUpperCase():e.direccionHuesped.provincia,pais:e.direccionHuesped.pais?e.direccionHuesped.pais.toUpperCase():e.direccionHuesped.pais}};t(o);try{let e=await fetch("http://localhost:8080/huespedes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok){let i=await e.json().catch(()=>null);console.log("✅ Huésped guardado:",i??"No body"),v(`El hu\xe9sped ${o.nombre??""} ${o.apellido??""} ha sido satisfactoriamente cargado al sistema
\xbfDesea cargar otro?`),N(!0),C(null)}else 409===e.status&&(x("El tipo y número de documento ya existen en el sistema"),C(o),u(!0))}catch(e){console.error("❌ Error de conexión al backend:",e)}}},E=()=>{t(l),p({})},O=async()=>{if(u(!1),S(!1),b)try{let e=await fetch("http://localhost:8080/huespedes?forzar=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});e.ok?(console.log("Aceptar igualmente: registrado forzado"),console.log(b),v(`El hu\xe9sped ${b.nombre??""} ${b.apellido??""} ha sido satisfactoriamente cargado al sistema
\xbfDesea cargar otro?`),N(!0)):console.error("Error al forzar registro:",e.status)}catch(e){console.error("Error de conexión al forzar:",e)}finally{C(null)}};return(0,o.jsxs)("main",{children:[(0,o.jsx)("div",{className:"tittle_box",children:(0,o.jsx)("h1",{className:"main_title",children:"Completar los datos"})}),(0,o.jsxs)("form",{className:"main_box",onSubmit:R,noValidate:!0,children:[(0,o.jsxs)("div",{className:"container",children:[(0,o.jsxs)("div",{className:"box1",children:[(0,o.jsx)(a,{label:"Nombre",name:"nombre",value:e.nombre,onChange:y,error:d.nombre,isRequired:!0}),(0,o.jsx)(a,{label:"CUIT",name:"cuit",value:e.cuit,onChange:y,error:d.cuit}),(0,o.jsx)(a,{label:"Fecha de Nacimiento",name:"fechaNacimiento",value:e.fechaNacimiento,onChange:y,error:d.fechaNacimiento,type:"date",isRequired:!0})]}),(0,o.jsxs)("div",{className:"box1",children:[(0,o.jsx)(a,{label:"Apellido",name:"apellido",value:e.apellido,onChange:y,error:d.apellido,isRequired:!0}),(0,o.jsx)(a,{label:"Teléfono",name:"telefono",value:e.telefono,onChange:y,error:d.telefono,type:"tel",isRequired:!0}),(0,o.jsx)(a,{label:"Posición IVA",name:"posicionIVA",value:e.posicionIVA,onChange:y,error:d.posicionIVA})]}),(0,o.jsx)(n,{tipoDocumento:e.tipoDocumento,numeroDocumento:e.numeroDocumento,onChange:y,error:d.numeroDocumento,highlight:D})]}),(0,o.jsx)(s,{direccion:e.direccionHuesped,onChange:y,errors:d}),(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("div",{className:"box1",children:(0,o.jsx)(a,{label:"Email",name:"email",value:e.email,onChange:y,error:d.email,type:"email"})}),(0,o.jsx)("div",{className:"box1",children:(0,o.jsx)(a,{label:"Ocupación",name:"ocupacion",value:e.ocupacion,onChange:y,error:d.ocupacion,isRequired:!0})}),(0,o.jsx)("div",{className:"box1",children:(0,o.jsx)(a,{label:"Nacionalidad",name:"nacionalidad",value:e.nacionalidad,onChange:y,error:d.nacionalidad,isRequired:!0})})]}),(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("div",{className:"box1",children:(0,o.jsx)("button",{className:"button2",type:"button",onClick:e=>{e.preventDefault(),f(!0)},children:"CANCELAR"})}),(0,o.jsx)("div",{className:"box1",children:(0,o.jsx)("p",{children:(0,o.jsxs)("small",{children:[(0,o.jsx)("span",{style:{color:"red"},children:"*"})," Campos obligatorios"]})})}),(0,o.jsx)("div",{className:"box1",children:(0,o.jsx)("button",{className:"button2",type:"submit",children:"SIGUIENTE"})})]})]}),(0,o.jsx)(c,{show:m,title:"DNI Repetido",message:h,icon:"⚠️",closeText:"CORREGIR",confirmText:"ACEPTAR IGUALMENTE",confirmClass:"btn-accept yellow",onClose:()=>{S(!0),u(!1)},onConfirm:O}),(0,o.jsx)(c,{show:H,title:"CANCELAR",message:"¿Desea cancelar esta carga del huésped?",icon:"⚠️",closeText:"NO",confirmText:"SI",confirmClass:"btn-accept yellow",onClose:()=>f(!1),onConfirm:()=>{E(),f(!1),A(!0)}}),(0,o.jsx)(r,{show:j,message:g,onClose:()=>{A(!0),N(!1)},onConfirm:()=>{E(),N(!1)}}),I&&(0,o.jsx)("div",{className:"completion-screen",children:"Caso de Uso Terminado"})]})}e.s(["default",()=>t],36224)}]);